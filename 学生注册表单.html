<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>学生注册表单</title>
		<link rel="stylesheet" href="https://cdn.staticfile.net/twitter-bootstrap/5.1.1/css/bootstrap.min.css">
		 
		<!-- 最新的 Bootstrap5 核心 JavaScript 文件 -->
		<script src="https://cdn.staticfile.net/twitter-bootstrap/5.1.1/js/bootstrap.bundle.min.js"></script>
		
		<script>
			
		function errorclose()
		{
			let error=document.querySelectorAll('.error_message');
			error.forEach(el=>el.textContent="");
		}
		
		 function vaildataform(event)
		 {	
			
			 errorclose();
			 //名字验证
			  event.preventDefault();
			 let name=document.getElementById("name").value;
			 let nameReg=/^\w{2,10}$/;
			 if(!nameReg.test(name))
			 {
				document.getElementById("errorname").innerHTML="名字太短或太长！";
			 }
			 //手机号验证
			 let tele=document.getElementById("telephone").value;
			 let teleReg=/^1[3-9]\d{9}$/;
			 if(!teleReg.test(tele))
			 {
			 	document.getElementById("errortele").innerHTML="手机号格式不正确！";
			 }
			 //邮箱验证
			 let email=document.getElementById("email").value;
			 if(email!="")
			 {
				let emailReg=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;
				if(!emailReg.test(name))
				{
					document.getElementById("erroremail").innerHTML="邮箱格式不正确！";
				}
			}
			 //密码验证
			 let pw=document.getElementById("password").value;
			 let pwReg=/^(?=[A-Za-z])(?=[.*\d]).{6,}$/;
			 if(!pwReg.test(pw))
			 {
			 	document.getElementById("errorpw").innerHTML="密码格式不正确(字母+数字不小于6个字)";
				return false;
			 }
			 //确认密码验证
			 let pw1=document.getElementById("password1").value;
			 if(pw1!=pw)
			 {
				document.getElementById("errorpw1").innerHTML="确认密码与密码相同！";
				return false;
			 }
			 return true;
		 }
			
		</script>
		<style>
			.error_message{
				color: red;
			}
			
			label.xrequired::after{
				content: ' *';
				color: red;
			}
			.registration-form {
				max-width: 500px;
				width: 100%;
			}
		</style>
	</head>
	<body>
		<form action="/" onsubmit=" return vaildataform(event)">
			<div class="container registration-form">
				<p class="h1 text-center" >学生注册表单</p>
				<div class="mb-3">
					<label for="name" class="form-label xrequired">姓名</label>
					<input type="text" class="form-control" id="name" placeholder="请输入姓名">
					<span id="errorname" class="error_message"></span>
				</div>
				
				<div class="mb-3">
					<label for="email" class="form-label xrequired">手机号</label>
					<input type="text" class="form-control" id="telephone" placeholder="请输入11位手机号">
					<span id="errortele" class="error_message"></span>
				</div>
				
				<div class="mb-3">
					<label for="email" class="form-label">邮箱</label>
					<input type="text" class="form-control" id="email" placeholder="可选,如student@school.com">
					<span id="erroremail" class="error_message"></span>
				</div>
				
				<div class="mb-3">
					<label for="password" class="form-label xrequired">密码</label>
					<input type="password" class="form-control" id="password" placeholder="至少6位,包含字母和数字">
					<span id="errorpw" class="error_message"></span>
				</div>
				
				<div class="mb-3">
					<label for="password1" class="form-label xrequired">确认密码</label>
					<input type="password" class="form-control" id="password1" placeholder="请再次输入密码">
					<span id="errorpw1" class="error_message"></span>
				</div>
				
				<div class="mb-3">
					<div>
						<button type="submit" class="btn btn-primary w-100">注册</button>
					</div>
				</div>
			</div>
		</form>
	</body>
</html>
